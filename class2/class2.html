<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Functions</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/dist/reset.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/dist/reveal.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/dist/theme/simple.css" id="theme">
		<link rel="stylesheet" href="https://cs61a.org/assets/css/mono-blue.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
		<style>
			.reveal {
				font-family: "Work Sans", sans-serif;
			}

			.reveal .slides section {
				text-align: left;
				font-size: smaller;
			}

			.reveal pre {
				background-color: #f5f5f5;
				width: 100%;
				border: 1px solid #ccc;
				border-radius: 4px;
				box-shadow: none;
			}

			.reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
				font-family: "Roboto", sans-serif;
				color: #0072c1;
			}

			.reveal section.heading-only {
				text-align:center;
				padding-top:20%;
			}

            .no-code-badge .code-badge {
                display: none;
            }

            .code-badge-language {
                display: none;
            }

			.python-tutor-link {
				font-size: smaller;
			}

			.python-tutor-link:before {
				content: "";
				display: block;
				background: url("http://pythontutor.com/favicon.ico") no-repeat;
				width: 48px;
				height: 48px;
				float: left;
				margin: 0 6px 0 0;
			}

			.reveal h3 {
				margin-bottom: 40px;
			}

            .smaller {
                font-size: smaller;
            }

            code {
                padding: 2px 4px;
                font-size: 90%;
                color: #0072c1;
                background-color: #f9f2f4;
                border-radius: 4px;
            }

            p.padded {
                margin-top: 32px;
            }

            section .row {
                display: flex;
            }

            section .column {
                flex: 48%;
                margin: 10px;
            }

			@media print
			{
				.no-print, .no-print *
				{
					display: none !important;
				}
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

				<section class="heading-only" style="padding-top:5%">
                    <h1>Functions</h1>

					<div class="no-print" style="text-align: left; margin-top: 100px; font-size: 70%;">
						Tips for navigating the slides:
						<ul>
							<li>Press O or Escape for overview mode.</li>
							<li>Visit <a href="?print-pdf" target="_blank">this link</a> for a nice printable version</li>
							<li>Press the copy icon on the upper right of code blocks to copy the code</li>
						</ul>
                    </div>

                    <aside class="speaker-notes">
                    Lesson Plan:
                    12:05 - Review
                    12:15 - Comments
                    12:20 - Environment Diagrams +  Group Exercise
                    12:35 - Functions
                    1:00 - Functions Exercise
                    1:30 - Functions in Env Diagrams +  Group Exercise
                    1:45 - More on Names
                    </aside>
				</section>

                <section>
                    <h3>Class outline:</h3>
                        <li>Review & questions
                        <li>Syntax tips
                        <li>Comments
                        <li>Debugging with print()
                        <li>Functions intro
                        <li>Defining functions
                    </ul>
                </section>

                <section class="heading-only">
                    <h2>Review</h2>
                </section>
                <section>
                    <h3>Values</h3>

                    <p>Programs manipulate <strong>values</strong>.</p>
                    <p>Each value has a certain <strong>data type</strong>.</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Data type
                                <th>Example values
                        <tbody>
                            <tr>
                                <td>Integers
                                <td><code>2</code> <code>44</code> <code>-3</code>
                            <tr>
                                <td>Floats
                                <td><code>3.14</code> <code>4.5</code> <code>-2.0</code>
                            <tr>
                                <td>Booleans
                                <td><code>True</code> <code>False</code>
                            <tr>
                                <td>Strings
                                <td><code>'¬°hola!'</code> <code>'its python time!'</code>
                    </table>
                </section>
                <section>
                    <h3>Expressions</h3>

                    <p>Python evaluates expressions into values in one or more steps.</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Expression
                                <th>Value
                        <tbody>
                            <tr>
                                <td><code>'ahoy'</code>
                                <td><code>'ahoy'</code>
                            <tr>
                                <td><code>'a' + 'hoy'</code>
                                <td><code>'ahoy'</code>
                            <tr>
                                <td><code>7 / 2</code>
                                <td><code>3.5</code>
                            <tr>
                                <td><code>add(1, max(2, 3))</code>
                                <td><code>4</code>
                    </table>
                </section>
                <section>
                    <img src="../images/name_value.png" alt="Name bound to value" width="200" style="float:right;">
                    <h3>Names</h3>

                    <p>A <strong>name</strong> can be bound to a value.
                    </p>
                    <p>A name that's bound to a data value is also known as a <strong>variable</strong>.</p>
                    <br>
                    <p>One way to bind a name is with an <strong>assignment statement</strong>:</p>

                    <table class="anatomy_of_call">
                        <tr>
                            <td>x
                            <td>=
                            <td>7
                        <tr>
                            <td class="anatomy_of_call_operator">Name
                            <td>
                            <td class="anatomy_of_call_operand">Value
                    </table>

                    <div class="fragment">
                    <p>The value can be any expression:</p>

                    <table class="anatomy_of_call">
                        <tr>
                            <td>x
                            <td>=
                            <td>1 + 2 * 3 - 4 // 5
                        <tr>
                            <td class="anatomy_of_call_operator">Name
                            <td>
                            <td class="anatomy_of_call_operand">Expression
                    </table>
                    </div>
                </section>
                <section>
                    <h3>Python console</h3>

                    <p>In the Python conosole, we can evaluate and manipulate values using:</p>
                    <ul>
                        <li><b>Operators</b><br> <code>7 + 2</code>
                        <li><b>Functions</b><br> <code>add(7, 2)</code>
                        <li><b>Built-in methods</b><br> <code>my_string = 'blar'<br>my_string.upper()</code>
                    </ul>
                </section>
                <section class="heading-only">
                    <h2>Syntax tips</h2>
                </section>
                <section>
                    <h3>String syntax</h3>

                    <p>Make sure you wrap strings in quotes. Otherwise Python will think it's the name
                        of a variable or function.</p>

                    <p>Quotes can be single or double, just be consistent.</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Uh-Oh
                                <th>Correct
                        <tbody>
                            <tr>
                                <td>
                                    <pre style="font-size:0.6em" class="no-code-badge"><code data-trim data-noescape class="python">
                                    song_title = No Matter What
                                    song_artist = Calum Scott
                                    </code></pre>
                                <td>
                                    <pre style="font-size:0.6em" class="no-code-badge"><code data-trim data-noescape class="python">
                                    song_title = 'No Matter What'
                                    song_artist = 'Calum Scott'
                                    </code></pre>
                            <tr>
                                <td>
                                    <pre style="font-size:0.6em" class="no-code-badge"><code data-trim data-noescape class="python">
                                    play_song(Older, Ben Platt)
                                    </code></pre>
                                <td>
                                    <pre style="font-size:0.6em" class="no-code-badge"><code data-trim data-noescape class="python">
                                    play_song("Older", "Ben Platt")
                                    </code></pre>
                            <tr>
                                <td>
                                    <pre style="font-size:0.6em" class="no-code-badge"><code data-trim data-noescape class="python">
                                    show_lyrics("True Colors', "Cyndi Lauper')
                                    </code></pre>
                                <td>
                                    <pre style="font-size:0.6em" class="no-code-badge"><code data-trim data-noescape class="python">
                                    play_song("True Colors", "Cyndi Lauper")
                                    </code></pre>
                                    <pre style="font-size:0.6em" class="no-code-badge"><code data-trim data-noescape class="python">
                                    play_song('True Colors', 'Cyndi Lauper')
                                    </code></pre>
                    </table>
                </section>
                <section>
                    <h3>Name rules</h3>

                   <p>Only certain character combinations are allowed:</p>
                    <ul>
                        <li>Must start with a letter or the underscore character</li>
                        <li>Cannot start with a number</li>
                        <li>Can only contain alpha-numeric characters and underscores (A-z, 0-9, and _ )</li>
                    </ul>
                    <table>
                    <tr>
                    <td>
                    <h4>Allowed names</h4>
                    <ul>
                        <li><code>banana_gram</code>
                        <li><code>Bananagram</code>
                        <li><code>_banana_gram</code>
                    </ul>
                    </td>
                    <td>
                    <h4>Non-allowed names</h4>
                    <ul>
                        <li><code>1banana_gram</code>
                            <li><code>banana-gram</code>
                        <li><code>banana gram</code>
                    </ul>
                </td>
                </tr>
                </table>
                <p class="smaller">See more examples at W3Schools: <a href="https://www.w3schools.com/python/gloss_python_variable_names.asp">https://www.w3schools.com/python/gloss_python_variable_names.asp</a></p>
                </section>

                <section>
                    <h3>Name rules</h3>

                    <p>Names are case sensitive.</p>

                    <p>If name is <code>my_fav_hobby</code>, the following are <em>not</em> equivalent:</p>

                    <ul>
                        <li><code>my_fav_hobbY</code>
                        <li><code>My_fav_hobby</code>
                        <li><code>MY_FAV_HOBBY</code>
                        <li><code>myfavhobby</code>
                    </ul>

                    <p>Programming can help you develop an eye for these little details,
                        but software development tools will also help you find these issues.</p>

                </section>
                <section>
                    <h3>Naming conventions for variables & functions</h3>
                    <ul>
                        <li>Use a lowercase single letter (variables only), word, or words
                        <li>Separate words with underscores
                        <li>Make names meaningful, ex <code>first_name</code> rather than <code>fn</code>
                    </ul>
                    <br><br>
                    <h4>Examples</h4>
                    <ul>
                        <li><code>m</code> (variables only)
                        <li><code>hobby</code>
                        <li><code>my_fav_hobby</code>
                    </ul>

                    <p class="smaller">See more examples at Real Python: <a href="https://realpython.com/python-pep8/#naming-styles">https://realpython.com/python-pep8/#naming-styles</a></p>
                </section>

                <section class="heading-only">
                    <h2>Comments</h2>
                </section>


                <section>
                    <h3>Comment syntax</h3>

                    <p>A comment is human-readable text that's ignored by the Python interpreter.</p>

                    <pre style="font-size:1.0em"><code data-trim data-noescape class="python">
                    # A single-line comment starts with a hash sign
                    x = 4 # A comment can also go at the end of the line

                    """
                    Multi-line comments
                    start and end with three quotes.
                    """"
                    </code></pre>

                </section>

                <section>
                    <h3>Commenting out</h3>

                    <p>A common programming practice is to "comment things out"
                        while debugging code. That allows you to see how your
                        program works without a line of code and see whether that
                        affects the execution or fixes a bug.
                    </p>

                    <pre style="font-size:1.0em"><code data-trim data-noescape class="python">
                    x = 5
                    y = 10
                    #z = x ** y
                    z = pow(x, y)
                    </code></pre>
                </section>

                <section>
                    <h3>Documenting with comments</h3>

                    <p>Programmers often use comments to explain
                        segments of code that aren't obvious.
                    </p>

                    <pre style="font-size:1.0em"><code data-trim data-noescape class="python">
                    h = 50 # Hue from 0-360
                    s = 99 # Saturation from 0-100
                    v = 50 # Value from 0-100
                    </code></pre>
                </section>
                <section class="heading-only">
                    <h2>print()</h2>
                </section>
                <section>
                    <h3>Debugging with print()</h3>
                    <p>So far, we've run small bits of Python code in the console, and the console outputs the result.
                    </p>
                    <p>It's more common to run code from files. In this case, the console only outputs a response if we tell it to.
                    </p>
                    <p>We use <b>print()</b> to tell Python what to output. This is very useful in debugging - ex, to see the value of a variable.
                    </p>
                    <pre style="font-size:1.0em"><code data-trim data-noescape class="python">
                    x = 5
                    y = 10
                    print(x)
                    print(y)
                    print(x+y)
                    </code></pre>
                    <p>Let's try it in <a href="https://replit.com/">Replit</a> . Create a new Python 3 Repl.</p>
                </section>


                <section class="heading-only">
                    <h2>Functions intro</h2>
                </section>

                <section>
                    <h3>What is a function?</h3>

                    <p>A <strong>function</strong> is a sequence of code that performs a particular task
                        and can be easily reused. ‚ôªÔ∏è
                    </p>

                    <p>We've already used functions!</p>

                    <pre style="font-size:1.0em"><code data-trim data-noescape class="python">
                    add(18, 69)
                    mul(60, sub(5, 4))
                    </code></pre>

                    <div class="fragment">
                    <p>A function takes input(s) (the <strong>arguments</strong>) and returns an output (the <strong>return value</strong>).</p>

                    <p style="font-family:monospace">18, 69 ‚Üí <span style="display:inline-block; padding: 10px; border-radius: 2px; background: rgb(195, 212, 233)">add</span> ‚Üí 87
                    </p>
                    </div>
                </section>

                <section class="heading-only">
                    <h2>Defining functions</h2>
                </section>

                <section>
                    <h3>Defining functions</h3>

                    <p>The most common way to define functions is Python is the <code>def</code> statement.</p>

                    <pre style="font-size:1.0em"><code data-trim data-noescape class="python">
                    def &lt;name&gt;(&lt;parameters&gt;):
                        return &lt;return expression&gt;
                    </code></pre>

                    <p>Example:</p>
                    <pre style="font-size:1.0em"><code data-trim data-noescape class="python">
                    def add(num1, num2):
                        return num1 + num2
                    </code></pre>

                    <p>Once defined, we can call it:</p>
                    <pre style="font-size:1.0em"><code data-trim data-noescape class="python">
                    add(2, 2)
                    add(18, 69)
                    </code></pre>
                </section>

                <section>
                    <h3>Anatomy of a function definition</h3>

                    <p>The first line is called the <strong>function signature</strong>,
                        all lines after are considered the <strong>function body</strong>.</p>

                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    def &lt;name&gt;(&lt;parameters&gt;):        # ‚Üê Function signature
                        return &lt;return expression&gt;   # ‚Üê Function body
                    </code></pre>


                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    def add(num1, num2):             # ‚Üê Function signature
                        return num1 + num2           # ‚Üê Function body
                    </code></pre>

                    <div class="fragment">
                    <p>The function body can have multiple lines:</p>

                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    def add(num1, num2):             # ‚Üê Function signature
                        sum = num1 + num2            # ‚Üê Function body
                        return sum                   # ‚Üê Function body
                    </code></pre>
                    </div>
                </section>

                <section>
                    <h3>Function arguments</h3>

                    <p>We can pass in any expressions as arguments.</p>

                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    def add(num1, num2):
                        return num1 + num2
                    </code></pre>

                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    x = 1
                    y = 2
                    add(x, y)
                    </code></pre>

                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    x = 3
                    add(x * x, x + x)
                    </code></pre>
                </section>

                <section>
                    <h3>Return values</h3>

                    <p>The return keyword returns a value to whoever calls the function (and exits the function).</p>

                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    def add(num1, num2):
                        return num1 + num2

                    sum = add(2, 4)
                    </code></pre>

                    <p>Reminder: You can use function calls in expressions:</p>
                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    big_sum = add(200, 412) + add(312, 256)
                    </code></pre>

                    <p>...and nest function calls inside function calls:</p>
                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    huge_sum = add(add(200, 412), add(312, 256))
                    </code></pre>
                </section>

                <section>
                    <h3>Spot the bug #1</h3>

                    <p>What's wrong with this code?</p>
                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    def add(num1, num2):
                        return sum
                        sum = num1 + num2

                    sum = add(2, 4)
                    </code></pre>

                    <p class="fragment">The code after the return statement will not be executed,
                    that line belongs before the return.</p>
                </section>

                <section>
                    <h3>Spot the bug #2</h2>
                    <p>What's wrong with this code?</p>
                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    def add():
                        return num1 + num2

                    sum = add(2, 4)
                    </code></pre>
                    <p class="fragment">The function body is referring to variables
                        that don't seem to exist. Most likely, they should be parameters
                        in the function signature.</p>
                </section>

                <section>
                    <h3>Spot the bug #3</h2>

                    <p>What's wrong with this code?</p>
                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    def add(num1, num2):
                        sum = num1 + num2

                    sum = add(2, 4)
                    </code></pre>
                    <p class="fragment">The function body does not return any value.
                        However, the code that calls it tries to use the result of the expression.
                        It should have a return statement that returns the sum.
                    </p>
                </section>
                <section>
                    <h3>Challenge question</h2>

                    <p>What will happen if we run the following code?</p>
                    <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
                    from operator import add

                    def add(num1, num2):
                        response = num1 * num2
                        return response

                    sum = add(2, 4)
                    print(sum)
                    </code></pre>
                    <p class="fragment">Remember from class 1, names can be reassigned! This is true for both variables and functions. A name will always refer to its last assigned value.
                    </p>
                </section>

                <section>
                    <h3>Exercise</h3>
                    <p>Let's work on this together!</p>
                    <p><a href="https://replit.com/@lizkrznarich/Class2Ex1DogAge" target="_blank">Open the Class2Ex1DogAge repl</a> and click Fork repl.</p>
                </section>

                <section class="heading-only">
                    <h2>More on names</h2>
                </section>

                <section>
                    <h3>Names and environments</h3>

                    <p>All Python code is evaluated in the context of an <strong>environment</strong>, which is a sequence of <b>frames</b>.</p>
                    <p>We've seen two possible environments:</p>
                    <table>
                        <tr>
                            <td style="vertical-align:middle;">Global frame
                            <td><img src="../images/global.png" alt="screenshot showing global env" width="400">
                        <tr>
                            <td style="vertical-align:middle;">Function's local frame,<br> child of Global frame
                            <td><img src="../images/local.png" alt="screenshot showing" width="400">
                    </table>
                </section>

                <section>
                    <h3>Name lookup rules</h3>

                    <p>How Python looks up names in a user-defined function:</p>

                    <ol>
                        <li>Look it up in the local frame
                        <li>If name isn't in local frame, look it up in the global frame
                        <li>If name isn't in either frame, throw a NameError
                    </ol>

                    <p>*This is simplified since we haven't learned all the Python features that complicate the rules.</p>
                </section>

                <section>
                    <h3>Name lookup example #1</h3>

                    <pre style="font-size:0.9em"><code data-trim data-noescape class="python">
                    def exclamify(text):
                        start_exclaim = "¬°"
                        end_exclaim = "!"
                        return start_exclaim + text + end_exclaim

                    exclamify("the snails are eating my lupines")
                    </code></pre>

                    <ul>
                        <li>On line 4, which frame is <code>start_exclaim</code> found in? <br><span class="fragment">The local frame for exclamify</span>
                        <li>On line 4, Which frame is <code>text</code> found in? <br><span class="fragment">The local frame for exclamify</span>
                        <li>On line 6, which frame is <code>exclamify</code> found in? <br><span class="fragment">The global frame</span>
                    </ul>
                </section>

                <section>
                    <h3>Name lookup example #2</h3>

                    <pre style="font-size:0.9em"><code data-trim data-noescape class="python">
                    start_exclaim = "¬°"
                    end_exclaim = "‚ù£Ô∏è"

                    def exclamify(text):
                        return start_exclaim + text + end_exclaim

                    exclamify("the voles are digging such holes")
                    </code></pre>

                    <ul>
                        <li>On line 5, which frame is <code>start_exclaim</code> found in? <br><span class="fragment">The global frame</span>
                        <li>On line 5, Which frame is <code>text</code> found in? <br><span class="fragment">The local frame for exclamify</span>
                        <li>On line 6, which frame is <code>exclamify</code> found in? <br><span class="fragment">The global frame</span>
                    </ul>
                </section>

                <section>
                    <h3>Name lookup example #3</h3>

                    <pre style="font-size:0.9em"><code data-trim data-noescape class="python">
                    def exclamify(text):
                        end_exclaim = "‚ÅâÔ∏èÔ∏èÔ∏è"
                        return start_exclaim + text + end_exclaim

                    exclamify("the voles are digging such holes")
                    </code></pre>

                    <ul>
                        <li>Which name will cause a <code>NameError</code>?<br>
                            <span class="fragment">The <code>start_exclaim</code> name, since it was never assigned.</span>
                        <li>When will that error happen?<br>
                            <span class="fragment">It will happen when <code>exclamify</code> is called and Python tries to execute the return statement.</span>
                    </ul>
                </section>

                <section>
                    <h3>Practice exercises</h3>

                    <p>Work on these functions in this order. Don't worry if you don't get through all of them!</p>

                    <ul>
                        <li><a target="_blank" href="https://replit.com/@lizkrznarich/Class2Ex2TemperatureConverter">Class2Ex2TemperatureConverter</a>
                        <li><a target="_blank" href="https://replit.com/@lizkrznarich/Class2Ex3LifetimeSupply">Class2Ex3LifetimeSupply</a>
                    </ul>
                    <p><em>Note! If you press Run while viewing the solution.py file, nothing will happen. This is because Repl is configured to run only the main.py file. To run the solution, copy the content of the solution to your main.py file.</em></p>
                </section>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/dist/reveal.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/plugin/highlight/highlight.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/highlightjs-badge@0.1.9/highlightjs-badge.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
		<script>
			const srcUrlPrefix = "https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/";
			Reveal.initialize({
				hash: true,
				center: false,
				slideNumber: true,
				showNotes: false,
				margin: 0.1,
				preloadIframes: true,
				plugins: [ RevealHighlight ],
				pdfSeparateFragments: true
			});

            // add HighlightJS-badge (options are optional)
            var options = {
                copyIconContent: "üìÑ",
                checkIconContent: "‚úÖ"
            };
            window.highlightJsBadge(options);

            if (window.location.search == "?print-pdf") {
                var uncounted = document.querySelectorAll("[data-visibility='uncounted']");
                uncounted.forEach(node => {
                    node.parentNode.classList.add("no-print")
                })
            }
		</script>
	</body>
</html>

